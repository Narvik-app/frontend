<script setup lang="ts">
import EmailTemplateQuery from '~/composables/api/query/clubDependent/plugin/emailing/EmailTemplateQuery'

  definePageMeta({
    layout: "email"
  })

  useHead({
    title: "Modifier un mod√®le"
  })

  const route = useRoute()
  const templateId = decodeUrlUuid(route.params.id.toString())

  const selfStore = useSelfUserStore()
  const { selectedProfile } = storeToRefs(selfStore)

  // Redirect to main page if there's no profile
  if (!selectedProfile.value) {
    navigateTo("/")
  }
</script>

<template>
  <EmailTemplateEditor :template-id="templateId"></EmailTemplateEditor>
</template>